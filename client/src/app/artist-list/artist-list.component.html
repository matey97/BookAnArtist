

<div *ngIf="artists == null">
  <mat-spinner style="margin:0 auto;" mode="indeterminate" [diameter]="400"></mat-spinner>
</div>
<div *ngIf="artists != null">
<mat-card >
  <div class="row">
    <div class="col-sm-2">
      <h3>Buscar artista</h3>
      <form #f="ngForm" (ngSubmit)="onSubmit(f)" class="form-filter">
        <mat-form-field>
          <input matInput name="first" ngModel placeholder="Nombre artístico">
        </mat-form-field>
        <mat-form-field>
          <input matInput name="last" ngModel placeholder="Descripción">
        </mat-form-field>
        <mat-form-field>
          <mat-select placeholder="Habilidades" name="habilities" (ngModel)="prueba" multiple>
            <mat-option *ngFor="let hability of habilities" value="{{hability}}">{{hability}}</mat-option>
          </mat-select>
        </mat-form-field>
        <mat-form-field>
          <mat-label>Zona de actuación</mat-label>
          <mat-select [(value)]="zona" >
            <mat-option [value]="vacio">Ninguna</mat-option>
            <mat-option *ngFor="let zonea of zones" [value]="zonea">
              {{zonea}}
            </mat-option>
          </mat-select>
        </mat-form-field>
        <mat-form-field>
          <mat-select placeholder="Horario" name="schedules" (ngModel)="prueba2" multiple>
            <mat-option *ngFor="let schedule of schedules" value="{{schedule}}">{{schedule}}</mat-option>
          </mat-select>
        </mat-form-field>
        <h5>Coste mínimo</h5>
          <mat-slider
            thumbLabel
            (ngModel) = prueba
            name="dineroMin"
            tickInterval="10"
            min="1"
            max="8000"></mat-slider>
        <h5>Coste máximo</h5>
        <mat-slider
          thumbLabel
          (ngModel) = prueba
          name="dineroMax"
          tickInterval="10"
          min="1"
          max="8000"></mat-slider>
        <br>
        <button mat-raised-button>Filtrar</button>
      </form>
      <div class="row-fluid">
        <div class="col-xs-3">
        </div>
      </div>
    </div>
    <div class="col-sm-10">
      <h3>Lista de artistas</h3>
      <ngb-pagination class="d-flex justify-content-center" *ngIf="artists != null" [collectionSize]="artistsFiltrate.length" [pageSize]="pageSize" [(page)]="page" [boundaryLinks]="true"></ngb-pagination>
      <mat-card-content>
        <mat-list>
          <div  class="container">
            <div *ngIf="artistsFiltrate.length == 0">
              <h2>No se ha encontrado ningún artista</h2>
            </div>
            <div class="card flex-row flex-wrap cardStyle text-white bg-dark mb-3 " *ngFor="let artist of artistsFiltrate | slice: (page-1) * pageSize : (page-1) * pageSize + pageSize; ">
              <div class=" card-header border-0">
                <img class="card-img-top" src="data:image/PNG;base64,{{artist.profileImage}}">
              </div>
              <div class="card-block px-2">
                <h2 class="card-title">{{artist.artisticName}}</h2>
                <p class = "card-text">{{artist.description}}</p>
                <p class="card-text">{{artist.habilities}}</p>
                <p class="card-text">{{artist.price}}€/h</p>
                <a [routerLink]="['/artist',artist.username]" class="btn btn-outline-light">Ver perfil </a>
              </div>
              <div class="w-100"></div>
              <div class="card-footer w-100 text-muted">
                <ngb-rating [rate]="artist.puntuation"  [readonly]=true (rateChange)="onPuntuado($event,i)">
                  <ng-template let-fill="fill" >
                    <span class="star" [class.filled]="fill === 100" >&#9733;</span>
                  </ng-template>
                </ngb-rating>
              </div>
            </div>
          </div>
        </mat-list>
      </mat-card-content>
    </div>
  </div>
</mat-card>
</div>
<ngb-pagination class="d-flex justify-content-center" *ngIf="artists != null" [collectionSize]="artistsFiltrate.length" [pageSize]="pageSize" [(page)]="page" [boundaryLinks]="true"></ngb-pagination>





